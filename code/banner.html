<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/banner.css">
    <script src="../js/banner.js"></script>
    <script>
        window.onload=function(){
            var oBox = document.querySelector('.box');
            var oL = document.querySelectorAll('a')[0];
            var oR = document.querySelectorAll('a')[1];
            var oUl = document.querySelector('.banner');
            var aLi = document.querySelectorAll('.banner li');
            var aBtn = document.querySelectorAll('ol li');

            oBox.onmouseover=function(){
                oL.style.display='block';
                oR.style.display='block';
            };
            oBox.onmouseout=function(){
                oL.style.display='none';
                oR.style.display='none';
            };
            var n =0;
            for(var i=0;i<aBtn.length;i++){
                aBtn[i].index = i;
                aBtn[i].onclick=function(){
                    oUl.style.transition='1s all ease';
                    for(var i=0;i<aBtn.length;i++){
                        aBtn[i].className='';
                    }
                    this.className='active';
                    oUl.style.transform='translateX('+-(this.index)*700+'px)'
                    end();
                };
                n = aBtn[i].index ;
                oR.onclick=function(){
                    n++;
                    oUl.style.transition='1s all ease';
                    for(var i=0;i<aBtn.length;i++){
                        aBtn[i].className='';
                    };
                    aBtn[n%5].className='active';
                    oUl.style.transform='translateX('+-n%5*700+'px)'
                    end();
                };
                oL.onclick=function(){
                    n--;
                    oUl.style.transition='1s all ease';
                    if(n<0){
                        n=aLi.length-1;
                    }
                    for(var i=0;i<aBtn.length;i++){
                        aBtn[i].className='';
                    };
                    aBtn[n%5].className='active';
                    oUl.style.transform='translateX('+-n%5*700+'px)';
                    end();
                };

            };
            setInterval(function(){
                n++;
                oUl.style.transition='1s all ease';
                for(var i=0;i<aBtn.length;i++){
                    aBtn[i].className='';
                };
                aBtn[n%5].className='active';
                oUl.style.transform='translateX('+-n%5*700+'px)';
                end();
            },1000);
            function end(){
                function tranEnd(){
                    oUl.removeEventListener('transitionend',tranEnd,false)
                    if(n>=5){
                        oUl.style.transition='none';
                        n=0;
                    }
                    if(n<=0){
                        oUl.style.transition='none';
                        n=aBtn.length-1;
                    }
                }
                oUl.addEventListener('transitionend',tranEnd,false)
            }

        }
    </script>
</head>
<body>
<div class="box">
    <a href="javascript:;">prev</a>
    <a href="javascript:;">next</a>
    <ul class="clearfix banner">
        <li><img src="../image/0.jpg" alt=""/></li>
        <li><img src="../image/1.jpg" alt=""/></li>
        <li><img src="../image/2.jpg" alt=""/></li>
        <li><img src="../image/3.jpg" alt=""/></li>
        <li><img src="../image/4.jpg" alt=""/></li>
    </ul>
    <ol class="clearfix button">
        <li class="active"></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ol>
</div>
</body>
</html>