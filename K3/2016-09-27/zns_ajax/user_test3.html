<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>用户注册ajax接口测试 - 智能社 - www.zhinengshe.com</title>
<link type="text/css" rel="stylesheet" href="style/common.css">
<script src="ajax3.js"></script>
<script>
window.onload = function(){
	;(function(){
		var oUser = document.getElementById('add_user');
		var oPass = document.getElementById('add_pass');
		var oBtn = document.getElementById('add_btn');
		
		oBtn.onclick = function(){
			
			ajax('user.php',{
					t:Math.random(),
					act:'add',
					user:encodeURIComponent(oUser.value),
					pass:encodeURIComponent(oPass.value)
			},function(res){
				var json = eval('('+res+')');
				if(!json.error){
					alert('^_^'+json.desc);
				}else{
					alert('T_T'+json.desc);
				}
				oUser.value = '';
				oPass.value = '';
			},function(){
				alert('失败');
			});
		};
	})();
	
	;(function(){
		var oUser = document.getElementById('login_user');
		var oPass = document.getElementById('login_pass');
		var oBtn = document.getElementById('login_btn');
		
		oBtn.onclick = function(){
			
			ajax('user.php',{
					t:Math.random(),
					act:'login',
					user:encodeURIComponent(oUser.value),
					pass:encodeURIComponent(oPass.value)
				},function(res){
				var json = eval('('+res+')');
				if(!json.error){
					alert('^_^'+json.desc);
				}else{
					alert('T_T'+json.desc);
				}
				oUser.value = '';
				oPass.value = '';
			},function(){
				alert('失败');
			});
		};
	})();
};
</script>
</head>

<body>
<!--登陆-->
<div class="loginBox">
	<ul class="loginList clearfix">
    	<li class="hTxt">用户注册</li>
        <li class="inputBox">
        	<input type="text" class="inputs" id="add_user">
        </li>
        <li class="inputBox">
        	<input type="password" class="inputs" id="add_pass">
        </li>
        <li class="btns">
            <input id="add_btn" type="button" class="reg" value="" />
        </li>
        <li class="look"><a href="user_view.php" target="_blank">查看已注册用户</a></li>
    </ul>
</div>
<!--注册-->
<div class="loginBox">
	<ul class="loginList clearfix">
    	<li class="hTxt">用户登陆</li>
        <li class="inputBox">
        	<input type="text" class="inputs" id="login_user">
        </li>
        <li class="inputBox">
        	<input type="password" class="inputs" id="login_pass">
        </li>
        <li class="btns">
            <input id="login_btn" type="button" class="login" value="" />
        </li>
    </ul>
</div>
</body>
</html>
