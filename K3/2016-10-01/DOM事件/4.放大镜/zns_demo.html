<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title> - 智能课堂 - www.zhinengshe.com</title>
	<style>
		#small{
			width: 190px;
			height: 220px;
			position: absolute;
			left: 0;
			top: 0;
			cursor: move;
		}
		#small span{
			width: 80px;
			height: 80px;
			background: yellow;
			opacity: 0.5;
			position: absolute;
			right: 0;
			bottom: 0;
			display: none;
		}
		#big{
			width: 190px;
			height: 220px;
			position: absolute;
			left: 200px;
			top: 0;
			display: none;
			overflow: hidden;
		}
		#big img{
			position: absolute;
			left: 0;
			top: 0;
		}
	</style>
	<script>
		window.onload=function(){
			var oSmall=document.getElementById('small');
			var oSpan=oSmall.children[1];
			var oBig=document.getElementById('big');
			var oBimg=oBig.children[0];
			oSmall.onmouseover=function(){
				oSpan.style.display='block';
				oBig.style.display='block';
			};
			oSmall.onmouseout=function(){
				oSpan.style.display='none';
				oBig.style.display='none';
			};
			oSmall.onmousemove=function(ev){
				var oEvent=ev||event;
				var left=oEvent.clientX-oSpan.offsetWidth/2;
				var top=oEvent.clientY-oSpan.offsetHeight/2;
				if(left<0){
					left=0;
				}
				if(left>oSmall.offsetWidth-oSpan.offsetWidth){
					left=oSmall.offsetWidth-oSpan.offsetWidth;
				}
				if(top<0){
					top=0;
				}
				if(top>oSmall.offsetHeight-oSpan.offsetHeight){
					top=oSmall.offsetHeight-oSpan.offsetHeight;
				}
				oSpan.style.left=left+'px';
				oSpan.style.top=top+'px';
				// left/oSmall-oSpan=?/oBimg-oBig,?=(left/osmall-ospan)*(oBimg-oBig);
				oBimg.style.left=-left/(oSmall.offsetWidth-oSpan.offsetWidth)*(oBimg.offsetWidth-oBig.offsetWidth)+'px';
				oBimg.style.top=-top/(oSmall.offsetHeight-oSpan.offsetHeight)*(oBimg.offsetHeight-oBig.offsetHeight)+'px';
			}
		}
	</script>
</head>

<body>
<div id="box">
	<div id="small">
		<img src="images/2.jpg">
		<span></span>
	</div>
	<div id="big">
		<img src="images/1.jpg">
	</div>
</div>
</body>
</html>
