<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>智能社--http://www.zhinengshe.com</title>
    <style>

    </style>
    <script>
        var str = '123abc啊啊啊';
        function getByLen(str,type){
            var len = 0;
            for(var i=0;i<str.length;i++){
                //看str的每一个是否是汉字  汉字范围 \u4e00-\u9fa5
                if(str.charAt(i)>='\u4e00' && str.charAt(i)<='\u9fa5'){       //判断type的类型
                    if(type=='gbk'||type=='gb2312'){
                        len+=2;//gbk gb2312 中文两个字节
                    }else{
                        len+=3;//uft-8 中文三个字节
                    }
                }else{
                    len++;  //字母数字 一个字节
                }
            }
            return len;
        }
        alert(getByLen(str,'gb2312'));
    </script>
</head>
<body>
</body>
</html>
















